<!DOCTYPE html>
<html lang="ar" dir="rtl">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ØªØªØ¨Ø¹ Ø§Ù„Ø·Ù„Ø¨ - S22 Market</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;500;700;800&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Tajawal', sans-serif;
            background: #f0f2f5;
        }

        /* Map Background Simulation */
        .map-bg {
            background-image: url('https://upload.wikimedia.org/wikipedia/commons/e/ec/World_map_blank_without_borders.svg');
            /* Simplified or custom map pattern */
            background-color: #e5e7eb;
            background-size: cover;
            position: relative;
            overflow: hidden;
        }

        .road {
            position: absolute;
            height: 12px;
            background: #cbd5e1;
            border-radius: 6px;
        }

        /* Bike Animation */
        .bike-container {
            position: absolute;
            transition: all 1s linear;
            z-index: 10;
        }

        .bike-icon {
            font-size: 32px;
            color: #ea580c;
            filter: drop-shadow(0 4px 6px rgba(0, 0, 0, 0.2));
            animation: bounceBike 0.5s infinite alternate;
        }

        @keyframes bounceBike {
            from {
                transform: translateY(0);
            }

            to {
                transform: translateY(-3px);
            }
        }

        @keyframes movePath {
            0% {
                left: 10%;
                top: 20%;
                transform: rotate(0deg);
            }

            25% {
                left: 40%;
                top: 20%;
                transform: rotate(0deg);
            }

            26% {
                left: 40%;
                top: 20%;
                transform: rotate(90deg);
            }

            50% {
                left: 40%;
                top: 60%;
                transform: rotate(90deg);
            }

            51% {
                left: 40%;
                top: 60%;
                transform: rotate(0deg);
            }

            100% {
                left: 80%;
                top: 60%;
                transform: rotate(0deg);
            }
        }

        .animating-bike {
            animation: movePath 10s linear infinite;
        }
    </style>
</head>

<body class="bg-gray-100 flex flex-col h-screen">

    <!-- Header -->
    <div class="bg-white p-4 shadow-sm z-20 flex justify-between items-center">
        <a href="s22marketfood.html" class="text-gray-600"><i class="fas fa-arrow-right"></i> Ø¹ÙˆØ¯Ø©</a>
        <h1 class="font-bold text-lg">ØªØªØ¨Ø¹ Ø·Ù„Ø¨ÙŠ</h1>
        <div class="w-8"></div>
    </div>

    <!-- Live Map Area -->
    <div class="flex-1 map-bg relative w-full overflow-hidden">
        <!-- Roads (Visual decoration) -->
        <div class="road w-[40%] top-[23%] left-[10%]"></div>
        <div class="road w-[12px] h-[45%] top-[23%] left-[42%]"></div>
        <div class="road w-[50%] top-[63%] left-[40%]"></div>

        <!-- Bike -->
        <div class="bike-container animating-bike" id="delivery-bike">
            <div class="bike-icon"><i class="fas fa-motorcycle"></i></div>
            <div
                class="bg-black/80 text-white text-[10px] px-2 py-1 rounded absolute -top-8 -right-4 whitespace-nowrap">
                Ø§Ù„ÙƒØ§Ø¨ØªÙ† Ù…Ø­Ù…Ø¯ ÙˆØ§ØµÙ„ ğŸš€</div>
        </div>

        <!-- Destination (You) -->
        <div class="absolute top-[60%] left-[82%] transform -translate-y-1/2">
            <i class="fas fa-map-marker-alt text-4xl text-red-600 animate-bounce"></i>
        </div>

        <!-- Restaurant -->
        <div class="absolute top-[18%] left-[8%]">
            <div
                class="w-12 h-12 bg-white rounded-full flex items-center justify-center shadow-lg border-2 border-orange-500">
                <i class="fas fa-store text-orange-500"></i>
            </div>
        </div>
    </div>

    <!-- Status Sheet -->
    <div class="bg-white rounded-t-3xl shadow-[0_-5px_20px_rgba(0,0,0,0.1)] p-6 z-20">
        <div class="w-12 h-1.5 bg-gray-200 rounded-full mx-auto mb-6"></div>

        <div class="flex items-center justify-between mb-6">
            <div>
                <h2 class="text-xl font-black text-gray-800">Ø·Ù„Ø¨Ùƒ ÙÙŠ Ø§Ù„Ø·Ø±ÙŠÙ‚! ğŸ›µ</h2>
                <p class="text-sm text-gray-500">Ø³ÙŠØµÙ„ Ø®Ù„Ø§Ù„ 15-20 Ø¯Ù‚ÙŠÙ‚Ø©</p>
            </div>
            <div class="text-right">
                <p class="font-bold text-lg text-indigo-600">#REQ-8291</p>
            </div>
        </div>

        <!-- Steps -->
        <div class="flex justify-between items-center relative mb-4">
            <div class="absolute top-1/2 left-0 right-0 h-1 bg-gray-100 -z-10"></div>
            <div class="absolute top-1/2 left-0 right-1/4 h-1 bg-green-500 -z-10"></div> <!-- Progress Bar -->

            <div class="flex flex-col items-center gap-2">
                <div class="w-8 h-8 rounded-full bg-green-500 text-white flex items-center justify-center text-xs"><i
                        class="fas fa-check"></i></div>
                <span class="text-[10px] font-bold text-gray-600">ØªÙ… Ø§Ù„ØªØ£ÙƒÙŠØ¯</span>
            </div>
            <div class="flex flex-col items-center gap-2">
                <div class="w-8 h-8 rounded-full bg-green-500 text-white flex items-center justify-center text-xs"><i
                        class="fas fa-fire"></i></div>
                <span class="text-[10px] font-bold text-gray-600">Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ø¶ÙŠØ±</span>
            </div>
            <div class="flex flex-col items-center gap-2">
                <div
                    class="w-10 h-10 rounded-full bg-orange-500 text-white flex items-center justify-center shadow-lg transform scale-110 border-4 border-white">
                    <i class="fas fa-motorcycle"></i>
                </div>
                <span class="text-[10px] font-bold text-orange-600">ÙÙŠ Ø§Ù„Ø·Ø±ÙŠÙ‚</span>
            </div>
            <div class="flex flex-col items-center gap-2">
                <div class="w-8 h-8 rounded-full bg-gray-200 text-gray-400 flex items-center justify-center text-xs"><i
                        class="fas fa-home"></i></div>
                <span class="text-[10px] font-bold text-gray-400">ÙˆØµÙ„</span>
            </div>
        </div>

        <div class="bg-indigo-50 p-4 rounded-xl flex items-center gap-4 mt-6">
            <img src="https://randomuser.me/api/portraits/men/32.jpg"
                class="w-12 h-12 rounded-full border-2 border-white">
            <div class="flex-1">
                <h4 class="font-bold text-gray-800">Ù…Ø­Ù…Ø¯ Ø¹Ù„ÙŠ</h4>
                <div class="flex items-center gap-1 text-xs text-yellow-600 font-bold">
                    <i class="fas fa-star"></i> 4.9 (Ø¹Ø§Ù…Ù„ ØªÙˆØµÙŠÙ„)
                </div>
            </div>
            <button
                class="bg-green-500 w-10 h-10 rounded-full text-white flex items-center justify-center hover:bg-green-600 shadow-md">
                <i class="fas fa-phone"></i>
            </button>
        </div>
    </div>

    <script>
        // Simulation Logic
        const statuses = [
            { id: 1, title: "ØªÙ… Ø§Ù„ØªØ£ÙƒÙŠØ¯", desc: "Ø§Ø³ØªÙ„Ù… Ø§Ù„Ù…Ø·Ø¹Ù… Ø·Ù„Ø¨Ùƒ", time: 0 },
            { id: 2, title: "Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ø¶ÙŠØ±", desc: "Ø§Ù„Ø´ÙŠÙ ÙŠØ¬Ù‡Ø² ÙˆØ¬Ø¨ØªÙƒ Ø§Ù„Ù„Ø°ÙŠØ°Ø© ğŸ‘¨â€ğŸ³", time: 3000 },
            { id: 3, title: "ÙÙŠ Ø§Ù„Ø·Ø±ÙŠÙ‚", desc: "Ø§Ù„ÙƒØ§Ø¨ØªÙ† Ø§Ø³ØªÙ„Ù… Ø§Ù„Ø·Ù„Ø¨ ÙˆØ¬Ø§ÙŠ Ù„Ùƒ ğŸš€", time: 8000 },
            { id: 4, title: "ÙˆØµÙ„", desc: "Ø¨Ø§Ù„Ø¹Ø§ÙÙŠØ© Ø¹Ù„ÙŠÙƒ! ğŸ˜‹", time: 15000 }
        ];

        let currentStep = 0;
        const totalTime = 15; // Minutes (simulated)
        let timeLeft = totalTime * 60;

        function updateStatusUI(stepIndex) {
            const steps = document.querySelectorAll('.flex.flex-col.items-center');
            const bars = [
                document.querySelector('.absolute.top-1\\/2.left-0.right-1\\/4'), // Green bar
                // We will dynamically adjust widths or classes if needed, 
                // but for this simple sim, we'll just light up icons.
            ];

            // Reset all to gray/default first if needed, or just add active classes simulating progress
            steps.forEach((step, index) => {
                const iconContainer = step.querySelector('div');
                const text = step.querySelector('span');

                if (index <= stepIndex) {
                    // Active Status
                    if (index === stepIndex && stepIndex < 3) {
                        iconContainer.classList.add('animate-pulse', 'ring', 'ring-green-300');
                        if (index === 2) { // Bike
                            iconContainer.classList.remove('bg-gray-200', 'text-gray-400');
                            iconContainer.classList.add('bg-orange-500', 'text-white');
                        } else {
                            iconContainer.classList.remove('bg-gray-200', 'text-gray-400');
                            iconContainer.classList.add('bg-green-500', 'text-white');
                        }
                        text.classList.remove('text-gray-400');
                        text.classList.add('text-gray-800', 'font-black');
                    } else {
                        // Completed Status
                        iconContainer.classList.remove('animate-pulse', 'ring', 'ring-green-300', 'bg-gray-200', 'text-gray-400');
                        iconContainer.classList.add('bg-green-500', 'text-white');
                        text.classList.remove('text-gray-400');
                        text.classList.add('text-gray-600');
                    }
                }
            });

            // Update Progress Bar Width
            const progressLine = document.querySelector('.bg-green-500.absolute'); // The active line
            // Total 3 gaps between 4 items. 
            // 0 -> 0%, 1 -> 33%, 2 -> 66%, 3 -> 100%
            let width = '0%';
            if (stepIndex === 0) width = '10%';
            if (stepIndex === 1) width = '40%';
            if (stepIndex === 2) width = '75%';
            if (stepIndex === 3) width = '100%';

            progressLine.style.width = width;

            // Update Header Text
            const titleEl = document.querySelector('h2');
            const descEl = document.querySelector('h2 + p');

            titleEl.textContent = statuses[stepIndex].title + (stepIndex === 2 ? ' ğŸ›µ' : '..');
            descEl.textContent = statuses[stepIndex].desc;

            // Stop Bike animation if delivered
            const bike = document.getElementById('delivery-bike');
            if (stepIndex === 3) {
                bike.style.left = '82%';
                bike.style.top = '60%';
                bike.classList.remove('animating-bike');
                titleEl.textContent = "Ø·Ù„Ø¨Ùƒ ÙˆØµÙ„!";
                titleEl.classList.add('text-green-600');
            }
        }

        // Timer Simulation
        function startTimer() {
            const timerEl = document.querySelector('h2 + p'); // reusing the desc element for timer sometimes or just separate

            // For this demo, we just advance the steps automatically
            let step = 0;
            updateStatusUI(0);

            statuses.forEach((s, i) => {
                if (i === 0) return;
                setTimeout(() => {
                    updateStatusUI(i);
                }, s.time);
            });
        }

        // Init
        window.addEventListener('DOMContentLoaded', () => {
            // Check params for fast forward if needed
            startTimer();
        });

    </script>
</body>

</html>